<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Rocket Trajectory Visualization</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header>
    <h1>Rocket Trajectory Visualization</h1>
    <div class="controls">
      <label>Data file:
        <input id="fileInput" type="file" accept=".parquet,.csv" />
      </label>
      <button id="demoBtn">Load sample (rocket_traj.parquet)</button>
      <label class="mode">
        Mode:
        <select id="modeSelect">
          <option value="complete">Complete Plots + 3D</option>
          <option value="simple">Simple (plots only)</option>
        </select>
      </label>
    </div>
  </header>

  <main>
    <section class="left">
      <div class="timeline">
        <div class="timeline-title">Timeline</div>
        <input id="timeSlider" type="range" min="0" max="0" step="1" value="0" />
        <div class="timeline-info">
          <span id="tVal">t = 0.00 s</span>
          <button id="playPause">Play</button>
          <label>
            Speed
            <input id="speed" type="number" value="1" step="0.25" min="0.25" />
          </label>
          <button id="addSnapshot">Add snapshot</button>
        </div>
  <div id="readout" class="readout"></div>
      </div>

      <div class="plots">
        <div class="plot">
          <h3>Position (x, y, z)</h3>
          <div id="posPlot" class="plot-area"></div>
        </div>
        <div class="plot">
          <h3>Velocity (vx, vy, vz)</h3>
          <div id="velPlot" class="plot-area"></div>
        </div>
        <div class="plot">
          <h3>Euler angles (roll, pitch, yaw)</h3>
          <div id="eulerPlot" class="plot-area"></div>
        </div>
      </div>
    </section>

    <section class="right">
      <div class="threeD">
        <h3>3D View</h3>
        <canvas id="threeCanvas"></canvas>
        <div class="snapshots">
          <h4>Snapshots</h4>
          <div id="snapshots"></div>
        </div>
      </div>

      <!-- Navball panel -->
      <div class="navball">
        <h3>Navball</h3>
        <div class="navball-info" style="display:flex;justify-content:space-between;align-items:center;margin:4px 0;">
          <span>Orbit</span>
          <span id="navballSpeed">0.0m/s</span>
        </div>
        <canvas id="navballCanvas" style="width:100%;height:300px;display:block;"></canvas>
        <div id="navballHeading" style="text-align:center;margin-top:6px;">HDG ---Â°</div>
      </div>
    </section>
  </main>

  <footer>
    <small>Tip: click anywhere on the plots to move the time marker. Supports Parquet or CSV with columns from rocket_sim_jax.py.</small>
  </footer>

  <!-- Keep existing main.js -->
  <script type="module" src="main.js"></script>
</body>
</html>
